<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="img/favicon.ico">

    <!-- 以下の2行でLeafletで使用するスタイルシート(.css)とライブラリ(.js)を読み込む -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js" integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og==" crossorigin=""></script>     

    <!-- 以下の2行で，MQTT over Websocketを使うライブラリ(.js)を読み込む -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script src="js/mqttws31.js" type="text/javascript"></script>
    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>

    <script src="js/MovingMarker.js" type="text/javascript"></script>
    <script src="js/leaflet.rotatedMarker.js" type="text/javascript"></script>    
    
    <link rel="stylesheet" type="text/css" href="css/my.css">  

    <title>Document</title>

</head>
<body>
    
<!-- 
===========================================================================================
ヘッダ部
===========================================================================================
-->
<header>
    <h2>SiGroDroCon: Simple Ground Controler for drone Control</h2>
    <!-- <a href="https://ardupilot.org/" target="_blank"><img src="img/ArduPilot-Motto.png"></a> -->
    <!-- <a href="https://px4.io/" target="_blank"><img src="img/PX4_logo.png"></a> -->
</header>
<!-- 
===========================================================================================
メインコンテンツ
===========================================================================================
-->
<main>
    <section class="main_area">

      <div  class="wrap_0">
        <div id="mapid" class="mainMap"></div>
      </div>
      <div  class="wrap_0">
        <!-- 折り畳み展開ポインタ -->
        <div onclick="obj=document.getElementById('open_dinfo').style; obj.display=(obj.display=='none')?'block':'none';" >
          <h2><a style="cursor:pointer;" class="border_content color_gray">Drone info (Click to close/open)</a></h2>
        </div>
          <!-- Control button -->
        <div id="open_dinfo" class="border_control">
          <h3>Current position</h3>
          <table>
            <tbody>
              <tr>
                <td class="e100">Latitude</td>
                <td class="e200"><label id="clat">-</label></td>
              </tr>
              <tr>
                <td class="e100">Longitude</td>
                <td class="e200"><label id="clon">-</label></td>
              </tr>
              <tr>
                <td class="e100">Altitude(rel)</td>
                <td class="e200"><label id="calt">-</label></td>
              </tr>
              <tr>
                <td class="e100">Heading</td>
                <td class="e200"><label id="cang">-</label></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

          <div  class="wrap_0">
            <!-- 折り畳み展開ポインタ -->
            <div onclick="obj=document.getElementById('open_control').style; obj.display=(obj.display=='none')?'block':'none';">
                <h2><a style="cursor:pointer;" class="border_content color_gray">Drone control (Click to open/close)</a></h2>
            </div>
            <!-- Control button -->
            <div id="open_control" style="display:none;clear:both;" class="border_control">
              <div class="wrap_btn">
                  <input type="button" class="ctrlbtn button15pct color_green" id="bnt_guided" value="GUIDED" onclick="javascript:droneCtrl('GUIDED');"/>
                  <input type="button" class="ctrlbtn button15pct color_green" id="bnt_auto" value="AUTO" onclick="javascript:droneCtrl('AUTO');"/>
                  <input type="button" class="ctrlbtn button15pct color_green" id="bnt_rtl" value="RTL" onclick="javascript:droneCtrl('RTL');"/>
                  <!-- <input type="button" class="ctrlbtn button15pct color_white" id="" value="-" onclick="javascript:droneCtrl('-');"/>
                  <input type="button" class="ctrlbtn button15pct color_white" id="" value="-" onclick="javascript:droneCtrl('-');"/> -->
              </div>
              <div class="wrap_btn">
                  <input type="button" class="ctrlbtn button15pct color_green" id="bnt_arm" value="ARM"  onclick="javascript:droneCtrl('ARM');"/>
                  <input type="button" class="ctrlbtn button15pct color_green" id="bnt_disarm" value="DISARM"  onclick="javascript:droneCtrl('DISARM');"/>
                  <!-- <input type="button" class="ctrlbtn button15pct color_white" id="" value="-"  onclick="javascript:droneCtrl('-');"/>
                  <input type="button" class="ctrlbtn button15pct color_white" id="" value="-"  onclick="javascript:droneCtrl('-');"/>
                  <input type="button" class="ctrlbtn button15pct color_white" id="" value="-"  onclick="javascript:droneCtrl('-');"/> -->
              </div>
              <div class="wrap_btn">
                  <input type="button" class="ctrlbtn button15pct color_green" id="bnt_takeoff" value="TAKEOFF"  onclick="javascript:droneCtrl('TAKEOFF');"/>
                  <input type="button" class="ctrlbtn button15pct color_green" id="bnt_land" value="LAND"  onclick="javascript:droneCtrl('LAND');"/>
                  <!-- <input type="button" class="ctrlbtn button15pct color_white" id="" value="-"  onclick="javascript:droneCtrl('-');"/>
                  <input type="button" class="ctrlbtn button15pct color_white" id="" value="-"  onclick="javascript:droneCtrl('-');"/>
                  <input type="button" class="ctrlbtn button15pct color_white" id="" value="-"  onclick="javascript:droneCtrl('-');"/> -->
              </div>
              <!-- 移動停止 -->
              <div class="wrap_btn">
                <input type="button" class="ctrlbtn button75pct color_red" id="bnt_brake" value="STOP" onclick="javascript:droneCtrl('STOP');"/>
              </div>
            </div>  

      <div  class="wrap_0">
        <!-- 折り畳み展開ポインタ -->
        <div onclick="obj=document.getElementById('open_ddest').style; obj.display=(obj.display=='none')?'block':'none';">
            <h2><a style="cursor:pointer;" class="border_content color_gray">Simple Goto (Click to open/close)</a></h2>
        </div>
        <!-- Control button -->
        <div id="open_ddest" style="display:none;clear:both;" class="border_control">
          <h3>Clicked point (Destination)</h3>
          <table>
              <tbody>
                  <tr>
                    <td class="e200">Latitude</td>
                    <td><input type="text" class="input_style1" name="lat" id="lat" placeholder="Latitude" value="35.893246" />&nbsp;(deg)</td>
                  </tr>
                  <tr>
                    <td class="e200">Longitude</td>
                    <td><input type="text" class="input_style1" name="lon" id="lon" placeholder="Longitude" value="139.954909" />&nbsp;(deg)</td>
                  </tr>
                  <tr>
                    <td class="e200">Altitude</td>
                    <td><input type="text" class="input_style1" name="alt" id="alt" placeholder="Altitude" value="30" />&nbsp;(m)</td>
                  </tr>
                </tbody>
            </table>
            <div class="wrap_btn">
              <input type="button" class="ctrlbtn button30pct color_green" id="bnt_goto" value="GOTO DEST"  onclick="javascript:droneCtrl('GOTO');"/>
            </div>
          </div>
        </div>

        <div  class="wrap_0">
          <!-- 折り畳み展開ポインタ -->
          <div onclick="obj=document.getElementById('open_mission').style; obj.display=(obj.display=='none')?'block':'none';">
              <h2><a style="cursor:pointer;" class="border_content color_gray">Mission (Click to open/close)</a></h2>
          </div>
          <!-- Control button -->
          <div id="open_mission" style="display:none;clear:both;" class="border_control">
            <h3>Mission point</h3>
            <table>
						  <thead>
								<tr>
									<th>Idx</th>
									<th>Cwp</th>
									<th>Cmd</th>
									<th>Lat</th>
									<th>Lon</th>
									<th>Alt</th>
									<th>Cnt</th>
									<th>Apt</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>0</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr>
									<td>1</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td><input type="button" class="acpbtn" id="" onclick=""/></td>
								</tr>
								<tr>
									<td>2</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr>
									<td>3</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
							</tbody>
							</table>                
              <div class="wrap_btn">
                <input type="button" class="ctrlbtn button30pct color_green" id="bnt_mission" value="MISSION START"  onclick="javascript:droneCtrl('MISSION');"/>
              </div>
            </div>
          </div>



          

            <!-- -->
            <!-- <div id="second" class="box">
                <h2>Logs</h2>
                <div></div>
              </div> -->
        </div>


    </section>
</main>

,<script type="text/javascript" src="js/mqtt.js"></script>

</body>
</html>