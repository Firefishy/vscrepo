<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<!-- Font Awesome Icon Kit -->
        <link rel="stylesheet" href="../css/lib/fontawesome-free-5.15.2-web.all.min.css">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="../css/lib/bootstrap.min.css" >
        
        <!-- MapBox JS CSS -->
        <script src='https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js'></script>
        <link href='https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css' rel='stylesheet' />
        <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.3.0/mapbox-gl-draw.js'></script>
        <link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.3.0/mapbox-gl-draw.css' type='text/css' />
        <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.2/mapbox-gl-geocoder.min.js"></script>
        <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.2/mapbox-gl-geocoder.css" type="text/css">
        <script type="text/javascript" src="../js/lib/turf.min.js"></script>
        
        <!-- Custom CSS --> 
        <link rel="stylesheet" href="../css/src/common.css">
        <link rel="stylesheet" href="../css/src/sidebar.css">
        <link rel="stylesheet" href="../css/src/common_mapbox.css" >
		<link rel="stylesheet" href="../css/src/make_route.css">
		
		<title>フライトルート編集</title>
	</head>
	<body>
    <header id="header"></header>
	<!-- Contents Start -->
     <div id='map'></div>
     <div id="geocoder" class="geocoder"></div>
     
<template id="marker">
  <div class="WP_marker" id="marker_pin" style="
   background-color: #00ff7f;height: 26px; width: 26px; 
   border-radius:50%; text-align:center; line-height: 24px;
   border-width:1px;border-style:solid;border-color:#444444;">
    <span id="id">id</span>
  </div>
</template>

<template id="sub_marker">
  <div class="sub_point" id="marker_pin" style="border-collapse: collapse; height: 15px; width: 15px; 
  font-size: 200%; color: #ff0000; text-align:center; line-height: 15px;">
  <span id="pls">+</span>
  </div>
</template>



<pre id="coordinates" class="coordinates"></pre>
    <!-- Contents End -->
     
	<!-- <footer id="footer"></footer> -->
	 
	<!--sidebar start  -->
  <div class="sidebar_left custom_scroll">
    <div class="sidebar_title"><br>
      <div class="form-group row justify-content-center">

        <ul class="nav nav-tabs justify-content-center nav-fill">
          <li class="nav-item">
            <a class="nav-link active" data-toggle="tab" href="#item2" role="tab">preset</a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" id="point-tab" data-toggle="tab" href="#item1" role="tab" >Point</a>
          </li>
        </ul>
      </div>
    </div><!-- サイドバータイトルここまで -->
      

  <form class="submitform">
    <div class="tab-content">
    
    <!-- ポイントのタブ ここから -->
      <div class="tab-pane" id="item1" role="tabpanel" > 
	    
	    <div class=" row justify-content-center">
	      <span id="point_type">ウェイポイント</span>
	      <span id="Waypoint_No">1</span>
	    </div>
	    <div class="flt_op_sidebar_seg mb-3"></div>
	    
	    <!-- 緯度経度の設定 -->
	    <div class="btnDiv">
          <span>緯度</span>
          <input type="text" class="number_input w-75 mb-2" id="longitude" >
          <br>
          <span>経度</span>
          <input type="text" class="number_input w-75" id="latitude" >
        </div>
        
	    <div class="flt_op_sidebar_seg mb-3"></div>
        
        <div class="waypoint_info non_active">
        
        <!-- 速度設定 ここから -->
        <div class="btnDiv range">
          <span>速度</span>
          <span class="numberinput_unit">
            <input type="text" class="number_input" id="WP_speed" size=1>
            <span>m/s</span>
          </span>
          <input type="range" id="WP_speed" class="form-control slider" min="1" max="15" step="0.1" value="5">
        </div>
	    <!-- 速度設定 ここまで-->
	    
	    <div class="flt_op_sidebar_seg mb-3"></div>
        
        <!-- 高度設定 ここから-->
	    <div class="btnDiv range">
          <span>高度</span>
          <span class="numberinput_unit">
            <input type="text" class="number_input" id="WP_altitude"  size=1>
            <span>m</span>
          </span>
          <input type="range" id="WP_altitude" class="form-control slider" min="5" max="150" step="0.1" value="50">
        </div>
	    <!-- 高度設定 ここまで-->
	    
	    <div class="flt_op_sidebar_seg mb-3"></div>
	    <!-- 選択したWPの削除ボタン -->
	    <div class=" row justify-content-center">
	      <button type="button" class="btn btn-danger" id="WP_remove_button" onclick="remove_WPmarker()">選択した点を削除</button>
	    </div><br>
	  </div><!-- ウェイポイント用 -->
	  </div>
	  <!-- ポイントのタブ ここまで -->



	  <!-- ミッション全体のタブ ここから -->
	  <div class="tab-pane active" id="item2" role="tabpanel" aria-labelledby="item2-tab">
	  <div class="" id="date_title">新規WPのデフォルト値設定</div>
	  <div class="flt_op_sidebar_seg mb-3"></div>

        
        <div class="btnDiv range">
          <span>速度</span>
          <span class="numberinput_unit">
            <input type="text" class="number_input" id="speed"  size=1>
            <span>m/s</span>
          </span>
          <input type="range" class="form-control slider" min="1" max="15" step="0.1" value="5">
        </div>
        
	    <div class="flt_op_sidebar_seg mb-3"></div>

        <div class="btnDiv range">
          <span>高度</span>
          <span class="numberinput_unit">
            <input type="text" class="number_input" id="altitude"  size=1>
            <span>m</span>
          </span>
          <input type="range" class="form-control slider" min="5" max="150" step="0.1" value="50">
		</div>
		
		<div class="flt_op_sidebar_seg mb-3"></div>
		<div class="" id="date_title">ミッション全体設定</div>
		<div class="flt_op_sidebar_seg mb-3"></div>
		<div class="btnDiv">
			<span>ミッション完了時の動作</span>
			<select class="sidebar_select form-control" id="mission_complete" >
				<option value="RTH">ホーム帰還</option>
				<!-- <option value=1>ホバリング</option>  -->
				<option value="LAND">その場で着陸</option>
			</select>
		</div><br>
		<div class="btnDiv">
			<span>ミッション中断時の動作</span>
			<select class="sidebar_select form-control" id="interruption" >
				<option value="1">ホーム帰還</option>
				<!-- <option id="Emergency_Landing" value="2" disabled>緊急着陸</option> -->
				<option value="3">ミッション続行</option>
			</select>
		</div><br>
	  </div><!-- ミッション全体のタブ ここまで -->
	</div>
	
  </form>
</div><!-- サイドバー内 ここまで -->


<!-- 2．登録確認のポップアップ start-->
<div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" data-backdrop="static" aria-labelledby="basicModal" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-body text-center">
				<label>現在のルートを保存します。よろしいですか？</label>
       		</div>
			<div class="dialog-buttonsection2 text-center mb-2">
				<button type="button" class="btn btn-secondary mr-2 w-25" data-dismiss="modal">キャンセル</button>
				<button type="button" class="btn btn-success w-25" onclick="save_event()" data-dismiss="modal">OK</button>
			</div>
		</div>
	</div>
</div>
<!-- 2．登録確認のポップアップ end-->
      
      <a class="side_btn" id="btn_list"></a>
      
      <!-- レイヤ -->
      <a class="nav-item layer-icon" id="btn_layer"></a>
      <div class="nav-item layer-nav" id="layer_nav">
      	<a class="layer-terrain-icon" id="layer_terrain"></a>
      	<a class="layer-traffic-icon" id="layer_traffic"></a>
      	<a class="layer-transit-icon" id="layer_transit"></a>
      	<a class="layer-more-icon" id="layer_more"></a>
      	<a class="layer-did-icon" id="layer_did"></a>
      </div>
      


      <div class="nav flex-column edit-btn">
        <a class="circle clickable" data-toggle="modal" data-target="#confirmModal" id="saveicon"><img src="../img/save.png" class="save"></a>
        <a class="circle clickable" onclick="add_new_marker()" id="add_icon"><img src="../img/add.png" class="add"></a>
      </div>
      

      <!--sidebar end  -->
      


      <!-- Optional JavaScript -->
      <!-- jQuery first, then Popper.js, then Bootstrap JS -->
      <script type="text/javascript" src="../js/lib/jquery-3.5.1.min.js" ></script>
      <script type="text/javascript" src="../js/lib/popper.min.js" ></script>
      <script type="text/javascript" src="../js/lib/bootstrap.min.js" ></script>

      <!-- 以下の2行で，MQTT over Websocketを使うライブラリ(.js)を読み込む）  -->
      <script src="../js/lib/mqttws31.js" type="text/javascript"></script>

       <!-- Custom JS --> 
	  <script type="text/javascript" src="../js/src/sidebar.js"></script>
	  <script type="text/javascript" src="../js/src/common_mapbox.js"></script>
	  <script type="text/javascript" src="../js/src/make_route.js"></script>
	  
	</body>
</html>